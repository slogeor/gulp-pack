var _isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},D={toDate:function(e){return"number"==typeof e?new Date(e):"string"==typeof e?new Date(e.replace(/-/g,"/")):_isDate(e)?e:new Date},addDate:function(e,t,a){var n=D.toDate(e),t=t.toLowerCase();switch(t){case"y":n.setFullYear(n.getFullYear()+a);break;case"m":n.setMonth(n.getMonth()+a);break;case"d":n.setDate(n.getDate()+a)}return n},monthDiff:function(e,t){var a;return _isDate(e)&&_isDate(t)||(e=D.toDate(e),t=D.toDate(t)),a=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),a=a>=0?a+1:a-1},dayDiff:function(e,t){var a;return a=_isDate(e)&&_isDate(t)?(t.getTime()-e.getTime())/864e5:(D.toDate(t).getTime()-D.toDate(e).getTime())/864e5},formatStr:function(e,t){var a=D.toDate(e),n={"M+":a.getMonth()+1,"D+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},transTime:function(e){var t=parseInt(e/3600,10),a=parseInt((e-60*t*60)/60,10),n=parseInt(e-60*t*60-60*a,10);return(t>9?t:"0"+t)+":"+(a>9?a:"0"+a)+":"+(n>9?n:"0"+n)}};window.GLOBAL.util.date=D;