!function(){var t={};t.install=function(t){function e(t,e){for(var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(i.call(t,e))return t;t=t.parentElement}return null}function i(t,e){var i=t.className.split(" ").filter(function(t){return 0!==t.lastIndexOf(e,0)});t.className=i.join(" ").trim()}function r(e,i,r,n){var a=e._vueFormCtrl,u="undefined"!=typeof n[r]?n[r]+"":t.util.getBindAttr(e.el,r);u&&i.$watch(u,function(n,o){a[r]=n,"type"===r?(delete a.validators[o],a.validators[n]=h[n]):"custom-validator"===r?a.validators[r]=i.$eval(u):(a.validators[r]=h[r],(n===!1||"undefined"==typeof n)&&(a.validators[r]=!1)),e._vueForm?a.validate():t.nextTick(function(){t.nextTick(function(){a.validate()})})},{immediate:!0});var o=e.el.getAttribute(r);null!==o&&(a[r]=o||!0,"type"===r?a.validators[o]=h[o]:"custom-validator"===r?a.validators[r]=i[o]:a.validators[r]=h[r])}var n=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,a=/^(http\:\/\/|https\:\/\/)(.{4,})$/,u="vf-dirty",o="vf-pristine",s="vf-valid",l="vf-invalid",d="vf-submitted",m="vf-touched",c="vf-untouched",v=["type","required","pattern","multiple","minlength","maxlength","min","max","custom-validator"],f=["minlength","maxlength","min","max","pattern"],h={required:function(e){return t.util.isArray(e)?!!e.length:!!e},email:function(t,e){return n.test(t)},number:function(t){return!isNaN(t)},url:function(t){return a.test(t)},minlength:function(t,e){return t.length>=e},maxlength:function(t,e){return e>=t.length},pattern:function(t,e){var i=new RegExp("^"+e+"$");return i.test(t)},min:function(t,e){return 1*t>=1*e},max:function(t,e){return 1*e>=1*t}};t.directive("form",{id:"form",priority:10001,bind:function(){var e=this.el,r=e.getAttribute("name"),n=e.getAttribute("hook"),a=this.vm,v={};e.noValidate=!0;var f=this._state={$name:r,$dirty:!1,$pristine:!0,$valid:!0,$invalid:!1,$submitted:!1,$touched:!1,$untouched:!0,$error:{}};a.$set(r,f),t.util.addClass(e,o),t.util.addClass(e,s),t.util.addClass(e,c);var h=this.el._vueForm={name:r,state:f,controls:v,addControl:function(t){v[t.name]=t},removeControl:function(t){this.removeError(t.name),delete v[t.name],this.checkValidity()},setData:function(t,e){a.$set(r+"."+t,e)},removeError:function(t){f.$error[t]=!1,delete f.$error[t]},checkValidity:function(){var t=!0;Object.keys(v).forEach(function(e){v[e].state.$invalid&&(t=!1)}),this.setValidity(t)},setValidity:function(r){f.$valid=r,f.$invalid=!r,r?(t.util.addClass(e,s),t.util.removeClass(e,l),i(e,l+"-")):(t.util.removeClass(e,s),t.util.addClass(e,l))},setDirty:function(){f.$dirty=!0,f.$pristine=!1,t.util.addClass(e,u),t.util.removeClass(e,o)},setPristine:function(){f.$dirty=!1,f.$pristine=!0,Object.keys(v).forEach(function(t){v[t].setPristine()}),h.setSubmitted(!1),t.util.removeClass(e,u),t.util.addClass(e,o)},setSubmitted:function(i){f.$submitted=i,i?t.util.addClass(e,d):t.util.removeClass(e,d)},setTouched:function(){f.$touched=!0,f.$untouched=!1,t.util.addClass(e,m),t.util.removeClass(e,c)},setUntouched:function(){f.$touched=!1,f.$untouched=!0,t.util.removeClass(e,m),t.util.addClass(e,c),Object.keys(v).forEach(function(t){v[t].setUntouched()})}};n&&a[n](h),this._submitEvent=function(){h.setSubmitted(!0)},t.util.on(e,"submit",this._submitEvent)},update:function(){},unbind:function(){t.util.off(this.el,"submit",this._submitEvent),delete this.el._vueForm}}),t.directive("formCtrl",{id:"formCtrl",priority:1e4,deep:!0,bind:function(){function n(e){if(e){g._vueForm=e,e.addControl(V),e.setData(h,F),t.util.addClass(_,o),t.util.addClass(_,s),t.util.addClass(_,c),t.util.on(_,"blur",V.setTouched);var i=!0;p&&a.$watch(p,function(t,e){i||V.setDirty(),i=!1,g._value=t,V.validate(t)},{immediate:!0})}}var a,d,h=this.el.getAttribute("name"),$=this.el.getAttribute(":name")||this.el.getAttribute("v-bind:name"),C=this.el.getAttribute(":")||this.el.getAttribute("v-bind"),p=this.el.getAttribute("v-model"),y=this.el.getAttribute("hook"),b=this.vm,_=this.el,g=this;if(a=this._scope?this._scope:this.vm,$&&a.$watch($,function(t){h=t},{immediate:!0}),null!==C&&(d=a.$eval(C),d.name&&(h=d.name)),!h)return void console.warn("Name attribute must be populated");var F=g._state={$name:h,$dirty:!1,$pristine:!0,$valid:!0,$invalid:!1,$touched:!1,$untouched:!0,$error:{}},V=_._vueFormCtrl=g._vueFormCtrl={el:_,name:h,state:F,setVadility:function(e,r){var n=g._vueForm;if(n){if("boolean"==typeof e)return F.$valid=r,F.$invalid=!r,r?(n.removeError(h),t.util.addClass(_,s),t.util.removeClass(_,l)):(t.util.removeClass(_,s),t.util.addClass(_,l)),void n.checkValidity();e=t.util.camelize(e),r?(n.setData(h+".$error."+e,!1),delete F.$error[e],i(_,l+"-")):(n.setData(h+".$error."+e,!0),n.setData("$error."+h,F),t.util.addClass(_,l+"-"+e))}},setDirty:function(){F.$dirty=!0,F.$pristine=!1,g._vueForm.setDirty(),t.util.addClass(_,u),t.util.removeClass(_,o)},setPristine:function(){F.$dirty=!1,F.$pristine=!0,t.util.removeClass(_,u),t.util.addClass(_,o)},setTouched:function(e){F.$touched=!0,F.$untouched=!1,g._vueForm.setTouched(),t.util.addClass(_,m),t.util.removeClass(_,c)},setUntouched:function(e){F.$touched=!1,F.$untouched=!0,t.util.removeClass(_,m),t.util.addClass(_,c)},validators:{},error:{},validate:function(){var t=!0,e=this,i=g._value;return Object.keys(this.validators).forEach(function(r){var n=[i];if(e.validators[r]===!1)return void e.setVadility(r,!0);if(e.validators[r]){if("required"!==r&&!i&&"number"!=typeof i)return void e.setVadility(r,!0);"email"===r?n.push(e.multiple):-1!==f.indexOf(r)&&n.push(e[r]),e.validators[r].apply(this,n)?e.setVadility(r,!0):(t=!1,e.setVadility(r,!1))}}),e.setVadility(!0,t),t}};v.forEach(function(t){r(g,a,t,d||{})});var x;_.form?n(_.form._vueForm):(x=e(_,"form[name]"),x&&x._vueForm?n(x._vueForm):setTimeout(function(){x=_.form||e(_,"form[name]"),n(x._vueForm)},0)),y&&b[y](V)},update:function(t,e){"undefined"!=typeof t&&(this._notfirst&&this._vueFormCtrl.setDirty(),this._notfirst=!0,this._value=t,this._vueFormCtrl.validate(t))},unbind:function(){this._vueForm.removeControl(this._vueFormCtrl),t.util.off(this.el,"blur",this._vueFormCtrl.setTouched),delete this.el._vueFormCtrl}})},"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):window.Vue&&(window.vueForm=t,Vue.use(t))}();