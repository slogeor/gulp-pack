<!DOCTYPEhtml>
<html>
    <head>
        <meta charset="UTF-8">
        <title>A页面</title>
        <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    </head>
    <body>
        <iframe name="hidden_frame" id="hidden_frame" style="display:none"></iframe>
        <form id="fileform" method="post" enctype="multipart/form-data" target="hidden_frame">
            <input type="file" name="file" />
        </form>
        <button id="submitbtn">开始上传</button>

        <script type="text/javascript">
        // 参考： http://www.cnblogs.com/shanligang/p/5789459.html
        window.callback = function(msg) {
            console.log(msg)
            //回调函数
            alert(msg);
        }

        $("#submitbtn").click(function() {
            var callbackurl = window.location.href.substring(0, window.location.href.lastIndexOf('/')) + "/proxy.html"; //获取代理文件路径
            $("#fileform").attr("action", "http://hotel.hoteldev.sankuai.com/api/v1/mta/sc/bizself/certificate/upload?callbackurl=" + callbackurl);
            $("#fileform").submit();
        })
        </script>
    </body>
</html>
